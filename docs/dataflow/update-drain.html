<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dataflow Update & Drain è§£èª¬</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #4285f4;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section-title {
            color: #4285f4;
            border-bottom: 3px solid #4285f4;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .key-point {
            background: #e8f0fe;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #4285f4;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison-card {
            background: #f8f9fa;
            border: 3px solid;
            border-radius: 8px;
            padding: 20px;
        }
        .card-cancel {
            border-color: #f44336;
        }
        .card-update {
            border-color: #4caf50;
        }
        .card-drain {
            border-color: #ff9800;
        }
        .card-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
        }
        .title-cancel {
            background: #ffebee;
            color: #c62828;
        }
        .title-update {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .title-drain {
            background: #fff3e0;
            color: #e65100;
        }
        .code-box {
            background: #1e1e1e;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            margin: 15px 0;
            overflow-x: auto;
            color: #d4d4d4;
        }
        .keyword {
            color: #569cd6;
            font-weight: bold;
        }
        .string {
            color: #ce9178;
        }
        .comment {
            color: #6a9955;
            font-style: italic;
        }
        .command {
            color: #dcdcaa;
            font-weight: bold;
        }
        .variable {
            color: #9cdcfe;
        }
        .flag {
            color: #c586c0;
        }
        .highlight {
            background: #fff9c4;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
            color: #000;
        }
        .flow-diagram {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #e0e0e0;
        }
        .flow-step {
            display: flex;
            align-items: flex-start;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #4285f4;
        }
        .step-number {
            background: #4285f4;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            margin-right: 20px;
            flex-shrink: 0;
        }
        .step-content {
            flex: 1;
        }
        .step-title {
            font-weight: bold;
            color: #4285f4;
            margin-bottom: 8px;
            font-size: 16px;
        }
        .step-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.8;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #e8f0fe;
            color: #1a73e8;
            font-weight: bold;
        }
        tr:hover {
            background: #f5f5f5;
        }
        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .warning-box strong {
            color: #e65100;
        }
        .benefit-list {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .benefit-list h4 {
            color: #2e7d32;
            margin-top: 0;
        }
        .use-case {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .use-case h4 {
            margin-top: 0;
            color: #2e7d32;
        }
        .update-conditions {
            background: #e8f0fe;
            border-left: 4px solid #4285f4;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .update-conditions h4 {
            color: #1565c0;
            margin-top: 0;
        }
        .timeline-viz {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .timeline-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .timeline-time {
            background: #4285f4;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: bold;
            margin-right: 20px;
            min-width: 80px;
            text-align: center;
            font-size: 14px;
        }
        .timeline-content {
            flex: 1;
            font-size: 14px;
            line-height: 1.6;
        }
        .decision-tree {
            background: #f8f9fa;
            border: 2px solid #4285f4;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .decision-node {
            background: white;
            border: 2px solid #4285f4;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
        }
        .decision-node.action {
            background: #e8f5e9;
            border-color: #4caf50;
        }
        .arrow-down {
            text-align: center;
            font-size: 24px;
            color: #4285f4;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”„ Dataflow Update & Drain</h1>
    <p class="subtitle">ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®æ›´æ–°ã¨æ­£å¸¸åœæ­¢</p>

    <div class="container">
        <h2 class="section-title">ğŸ“– æ¦‚è¦</h2>
        
        <div class="key-point">
            <h3 style="color: #4285f4; margin-top: 0;">ğŸ¯ Update ã¨ Drain ã¨ã¯</h3>
            <p style="font-size: 16px; line-height: 1.8;">
                Google Cloud Dataflowã«ã¯ã€å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®2ã¤ã®é‡è¦ãªæ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ï¼š
            </p>
            <ul style="font-size: 15px; line-height: 1.8;">
                <li><strong>Updateï¼ˆæ›´æ–°ï¼‰:</strong> <span class="highlight">å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã›ãšã«æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ç½®ãæ›ãˆã‚‹</span></li>
                <li><strong>Drainï¼ˆãƒ‰ãƒ¬ã‚¤ãƒ³ï¼‰:</strong> <span class="highlight">å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’å®Œäº†ã•ã›ã¦ã‹ã‚‰æ­£å¸¸ã«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã™ã‚‹</span></li>
            </ul>
        </div>

        <div class="comparison">
            <div class="comparison-card card-cancel">
                <div class="card-title title-cancel">âŒ Cancelï¼ˆã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰</div>
                
                <div style="margin: 20px 0;">
                    <div style="font-size: 14px; line-height: 1.8;">
                        <strong>å‹•ä½œ:</strong><br>
                        å³åº§ã«ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢
                    </div>
                </div>

                <div style="background: #ffebee; padding: 15px; border-radius: 5px; margin-top: 15px;">
                    <strong style="color: #c62828;">âš ï¸ çµæœ:</strong>
                    <ul style="font-size: 13px; margin: 10px 0;">
                        <li>å‡¦ç†ä¸­ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹</li>
                        <li>çŠ¶æ…‹ãŒä¿å­˜ã•ã‚Œãªã„</li>
                        <li>å³åº§ã«åœæ­¢</li>
                        <li>ãƒ‡ãƒ¼ã‚¿æå¤±ãƒªã‚¹ã‚¯</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-card card-update">
                <div class="card-title title-update">âœ… Updateï¼ˆæ›´æ–°ï¼‰</div>
                
                <div style="margin: 20px 0;">
                    <div style="font-size: 14px; line-height: 1.8;">
                        <strong>å‹•ä½œ:</strong><br>
                        ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã§<br>
                        æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ç§»è¡Œ
                    </div>
                </div>

                <div style="background: #e8f5e9; padding: 15px; border-radius: 5px; margin-top: 15px;">
                    <strong style="color: #2e7d32;">âœ… çµæœ:</strong>
                    <ul style="font-size: 13px; margin: 10px 0;">
                        <li>ãƒ‡ãƒ¼ã‚¿æå¤±ãªã—</li>
                        <li>çŠ¶æ…‹ã‚’å¼•ãç¶™ã</li>
                        <li>ç¶™ç¶šçš„ã«å®Ÿè¡Œ</li>
                        <li>ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-card card-drain">
                <div class="card-title title-drain">ğŸš° Drainï¼ˆãƒ‰ãƒ¬ã‚¤ãƒ³ï¼‰</div>
                
                <div style="margin: 20px 0;">
                    <div style="font-size: 14px; line-height: 1.8;">
                        <strong>å‹•ä½œ:</strong><br>
                        å‡¦ç†ä¸­ãƒ‡ãƒ¼ã‚¿ã‚’å®Œäº†å¾Œ<br>
                        æ­£å¸¸ã«åœæ­¢
                    </div>
                </div>

                <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-top: 15px;">
                    <strong style="color: #e65100;">â±ï¸ çµæœ:</strong>
                    <ul style="font-size: 13px; margin: 10px 0;">
                        <li>å‡¦ç†ä¸­ãƒ‡ãƒ¼ã‚¿ã‚’å®Œäº†</li>
                        <li>æ–°è¦ãƒ‡ãƒ¼ã‚¿ã¯æ‹’å¦</li>
                        <li>æ­£å¸¸ã«çµ‚äº†</li>
                        <li>å†èµ·å‹•å¯èƒ½</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ”„ Updateï¼ˆæ›´æ–°ï¼‰</h2>

        <div class="key-point">
            <h3 style="color: #4285f4; margin-top: 0;">ğŸ’¡ Updateã¨ã¯</h3>
            <p style="font-size: 16px; line-height: 1.8;">
                Updateã¯ã€<span class="highlight">å®Ÿè¡Œä¸­ã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’åœæ­¢ã›ãšã«ã€æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ç½®ãæ›ãˆã‚‹</span>æ©Ÿèƒ½ã§ã™ã€‚
                æ—¢å­˜ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®çŠ¶æ…‹ï¼ˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã€é›†è¨ˆã€ã‚¿ã‚¤ãƒãƒ¼ãªã©ï¼‰ã‚’æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«å¼•ãç¶™ãã¾ã™ã€‚
            </p>
        </div>

        <div class="flow-diagram">
            <h3 style="text-align: center; color: #4285f4; margin-top: 0;">Updateã®å‡¦ç†ãƒ•ãƒ­ãƒ¼</h3>
            
            <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-title">æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤</div>
                    <div class="step-desc">
                        <code>--update</code>ãƒ•ãƒ©ã‚°ã‚’æŒ‡å®šã—ã¦æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èµ·å‹•ã€‚<br>
                        æ—¢å­˜ã®Job IDã‚’æŒ‡å®šã—ã¦æ›´æ–°ã‚’å®Ÿè¡Œã€‚
                    </div>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-title">äº’æ›æ€§ãƒã‚§ãƒƒã‚¯</div>
                    <div class="step-desc">
                        DataflowãŒæ–°æ—§ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®äº’æ›æ€§ã‚’æ¤œè¨¼ã€‚<br>
                        ã‚¹ãƒ†ãƒƒãƒ—åã€çŠ¶æ…‹ã€å¤‰æ›ã®ä¸€è²«æ€§ã‚’ç¢ºèªã€‚
                    </div>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-title">çŠ¶æ…‹ã®ç§»è¡Œ</div>
                    <div class="step-desc">
                        æ—¢å­˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®çŠ¶æ…‹ï¼ˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦çŠ¶æ…‹ã€ã‚¿ã‚¤ãƒãƒ¼ã€ãƒãƒƒãƒ•ã‚¡ç­‰ï¼‰ã‚’æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã‚³ãƒ”ãƒ¼ã€‚<br>
                        ãƒ‡ãƒ¼ã‚¿æå¤±ãªã—ã§å¼•ãç¶™ãã€‚
                    </div>
                </div>
            </div>

            <div class="flow-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <div class="step-title">æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§å‡¦ç†ç¶™ç¶š</div>
                    <div class="step-desc">
                        æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒæ—¢å­˜ã®çŠ¶æ…‹ã‚’ä½¿ã£ã¦å‡¦ç†ã‚’ç¶™ç¶šã€‚<br>
                        å¤ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯è‡ªå‹•çš„ã«åœæ­¢ã€‚
                    </div>
                </div>
            </div>

            <div class="flow-step" style="border-left-color: #4caf50;">
                <div class="step-number" style="background: #4caf50;">5</div>
                <div class="step-content">
                    <div class="step-title">æ›´æ–°å®Œäº†</div>
                    <div class="step-desc">
                        æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ç¶™ç¶šçš„ã«å®Ÿè¡Œã€‚<br>
                        ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã€ãƒ‡ãƒ¼ã‚¿æå¤±ãªã—ã€‚
                    </div>
                </div>
            </div>
        </div>

        <h3 style="color: #4285f4; margin-top: 30px;">Updateã®å®Ÿè¡Œæ–¹æ³•</h3>

        <div style="margin: 15px 0;">
            <strong>gcloudã‚³ãƒãƒ³ãƒ‰:</strong>
        </div>
        <div class="code-box">
<span class="comment"># æ—¢å­˜ã®ã‚¸ãƒ§ãƒ–ã‚’æ›´æ–°</span>
<span class="command">gcloud dataflow jobs update</span> <span class="variable">JOB_ID</span> \
  <span class="flag">--update</span> \
  <span class="flag">--region</span>=<span class="string">us-central1</span> \
  <span class="flag">--gcs-location</span>=<span class="string">gs://my-bucket/templates/my-template</span>

<span class="comment"># æ—¢å­˜ã‚¸ãƒ§ãƒ–IDã®ç¢ºèª</span>
<span class="command">gcloud dataflow jobs list</span> \
  <span class="flag">--region</span>=<span class="string">us-central1</span> \
  <span class="flag">--filter</span>=<span class="string">"state=Running"</span>
        </div>

        <div style="margin: 15px 0;">
            <strong>Python SDK:</strong>
        </div>
        <div class="code-box">
<span class="keyword">import</span> apache_beam <span class="keyword">as</span> beam
<span class="keyword">from</span> apache_beam.options.pipeline_options <span class="keyword">import</span> PipelineOptions

<span class="comment"># ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«updateãƒ•ãƒ©ã‚°ã‚’è¨­å®š</span>
pipeline_options = PipelineOptions([
    <span class="string">'--runner=DataflowRunner'</span>,
    <span class="string">'--project=my-project'</span>,
    <span class="string">'--region=us-central1'</span>,
    <span class="string">'--temp_location=gs://my-bucket/temp'</span>,
    <span class="string">'--staging_location=gs://my-bucket/staging'</span>,
    <span class="string">'--update'</span>,  <span class="comment"># æ›´æ–°ãƒ•ãƒ©ã‚°</span>
    <span class="string">'--job_name=my-streaming-job'</span>  <span class="comment"># æ—¢å­˜ã‚¸ãƒ§ãƒ–ã¨åŒã˜åå‰</span>
])

<span class="keyword">with</span> beam.Pipeline(options=pipeline_options) <span class="keyword">as</span> pipeline:
    <span class="comment"># æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®šç¾©</span>
    ...
        </div>

        <div style="margin: 15px 0;">
            <strong>Java SDK:</strong>
        </div>
        <div class="code-box">
<span class="comment">// ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è¨­å®š</span>
DataflowPipelineOptions options = PipelineOptionsFactory
    .as(DataflowPipelineOptions.<span class="keyword">class</span>);

options.setRunner(DataflowRunner.<span class="keyword">class</span>);
options.setProject(<span class="string">"my-project"</span>);
options.setRegion(<span class="string">"us-central1"</span>);
options.setUpdate(<span class="keyword">true</span>);  <span class="comment">// æ›´æ–°ãƒ•ãƒ©ã‚°</span>
options.setJobName(<span class="string">"my-streaming-job"</span>);  <span class="comment">// æ—¢å­˜ã‚¸ãƒ§ãƒ–å</span>

Pipeline pipeline = Pipeline.create(options);
<span class="comment">// æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®šç¾©</span>
...
pipeline.run();
        </div>

        <div class="update-conditions">
            <h4>âœ… UpdateãŒå¯èƒ½ãªå¤‰æ›´</h4>
            <ul style="font-size: 14px; line-height: 1.8;">
                <li>å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã®å¤‰æ›´ï¼ˆMapã€Filterã€GroupByKeyç­‰ï¼‰</li>
                <li>æ–°ã—ã„ã‚¹ãƒ†ãƒƒãƒ—ã®è¿½åŠ </li>
                <li>æ—¢å­˜ã‚¹ãƒ†ãƒƒãƒ—ã®å‰Šé™¤ï¼ˆçŠ¶æ…‹ã‚’æŒãŸãªã„å ´åˆï¼‰</li>
                <li>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚°ãƒ©ãƒ•ã®å¤‰æ›´</li>
                <li>DoFnã®å®Ÿè£…å¤‰æ›´</li>
                <li>ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æˆ¦ç•¥ã®å¤‰æ›´</li>
            </ul>
        </div>

        <div class="warning-box">
            <strong>âŒ UpdateãŒã§ããªã„å¤‰æ›´:</strong>
            <ul style="margin: 10px 0; font-size: 14px;">
                <li><strong>ã‚¹ãƒ†ãƒƒãƒ—åã®å¤‰æ›´:</strong> çŠ¶æ…‹ãŒå¤±ã‚ã‚Œã‚‹</li>
                <li><strong>Coderã®å¤‰æ›´:</strong> ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³äº’æ›æ€§ãŒãªã„</li>
                <li><strong>ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ã‚¹ãƒ†ãƒƒãƒ—ã®æ§‹é€ å¤‰æ›´:</strong> çŠ¶æ…‹ã®å½¢å¼ãŒå¤‰ã‚ã‚‹</li>
                <li><strong>ã‚­ãƒ¼ã®å‹å¤‰æ›´:</strong> GroupByKeyã®ã‚­ãƒ¼å‹ã‚’å¤‰æ›´</li>
                <li><strong>å¤§è¦æ¨¡ãªæ§‹é€ å¤‰æ›´:</strong> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã®å†è¨­è¨ˆ</li>
            </ul>
            <p style="margin-top: 10px; font-size: 14px;">
                ã“ã‚Œã‚‰ã®å¤‰æ›´ãŒå¿…è¦ãªå ´åˆã¯ã€Drainã—ã¦æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
            </p>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸš° Drainï¼ˆãƒ‰ãƒ¬ã‚¤ãƒ³ï¼‰</h2>

        <div class="key-point">
            <h3 style="color: #4285f4; margin-top: 0;">ğŸ’¡ Drainã¨ã¯</h3>
            <p style="font-size: 16px; line-height: 1.8;">
                Drainã¯ã€<span class="highlight">å®Ÿè¡Œä¸­ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ­£å¸¸ã«åœæ­¢ã™ã‚‹</span>æ©Ÿèƒ½ã§ã™ã€‚
                æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã®å—ã‘å…¥ã‚Œã‚’åœæ­¢ã—ã€å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã™ã¹ã¦å®Œäº†ã—ã¦ã‹ã‚‰ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’çµ‚äº†ã—ã¾ã™ã€‚
            </p>
        </div>

        <div class="timeline-viz">
            <h3 style="text-align: center; color: #4285f4; margin-top: 0;">Drainã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</h3>

            <div class="timeline-item">
                <div class="timeline-time">T+0</div>
                <div class="timeline-content">
                    <strong>Drainé–‹å§‹</strong><br>
                    æ–°è¦ãƒ‡ãƒ¼ã‚¿ã®å—ã‘å…¥ã‚Œã‚’åœæ­¢ã€‚<br>
                    å‡¦ç†ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã¯ç¶™ç¶šã€‚
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">T+æ•°ç§’</div>
                <div class="timeline-content">
                    <strong>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†ç¶™ç¶š</strong><br>
                    ãƒãƒƒãƒ•ã‚¡å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã€‚<br>
                    ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒã‚¯ãƒ­ãƒ¼ã‚ºã•ã‚Œã‚‹ã€‚
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">T+æ•°åˆ†</div>
                <div class="timeline-content">
                    <strong>æœ€çµ‚ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿</strong><br>
                    ã™ã¹ã¦ã®å‡¦ç†ãŒå®Œäº†ã€‚<br>
                    æœ€çµ‚çµæœã‚’ã‚·ãƒ³ã‚¯ã«æ›¸ãè¾¼ã¿ã€‚
                </div>
            </div>

            <div class="timeline-item" style="background: #e8f5e9;">
                <div class="timeline-time" style="background: #4caf50;">T+å®Œäº†</div>
                <div class="timeline-content">
                    <strong>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³åœæ­¢</strong><br>
                    DrainedçŠ¶æ…‹ã«é·ç§»ã€‚<br>
                    ãƒªã‚½ãƒ¼ã‚¹ãŒè§£æ”¾ã•ã‚Œã‚‹ã€‚
                </div>
            </div>
        </div>

        <h3 style="color: #4285f4; margin-top: 30px;">Drainã®å®Ÿè¡Œæ–¹æ³•</h3>

        <div style="margin: 15px 0;">
            <strong>gcloudã‚³ãƒãƒ³ãƒ‰:</strong>
        </div>
        <div class="code-box">
<span class="comment"># Drainã‚’å®Ÿè¡Œ</span>
<span class="command">gcloud dataflow jobs drain</span> <span class="variable">JOB_ID</span> \
  <span class="flag">--region</span>=<span class="string">us-central1</span>

<span class="comment"># è¤‡æ•°ã®ã‚¸ãƒ§ãƒ–ã‚’ã¾ã¨ã‚ã¦Drain</span>
<span class="command">gcloud dataflow jobs list</span> \
  <span class="flag">--filter</span>=<span class="string">"state=Running"</span> \
  <span class="flag">--format</span>=<span class="string">"value(id)"</span> \
  | <span class="command">xargs</span> -I {} gcloud dataflow jobs drain {} <span class="flag">--region</span>=<span class="string">us-central1</span>
        </div>

        <div style="margin: 15px 0;">
            <strong>REST API:</strong>
        </div>
        <div class="code-box">
<span class="comment"># DrainçŠ¶æ…‹ã«æ›´æ–°</span>
<span class="command">curl</span> -X PUT \
  https://dataflow.googleapis.com/v1b3/projects/<span class="variable">{PROJECT_ID}</span>/locations/<span class="variable">{REGION}</span>/jobs/<span class="variable">{JOB_ID}</span> \
  -H <span class="string">'Authorization: Bearer $(gcloud auth print-access-token)'</span> \
  -H <span class="string">'Content-Type: application/json'</span> \
  -d <span class="string">'{
    "requestedState": "JOB_STATE_DRAINING"
  }'</span>
        </div>

        <div style="margin: 15px 0;">
            <strong>Python SDKï¼ˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ï¼‰:</strong>
        </div>
        <div class="code-box">
<span class="keyword">from</span> google.cloud <span class="keyword">import</span> dataflow_v1beta3

client = dataflow_v1beta3.JobsV1Beta3Client()

<span class="comment"># DrainçŠ¶æ…‹ã«æ›´æ–°</span>
request = dataflow_v1beta3.UpdateJobRequest(
    project_id=<span class="string">"my-project"</span>,
    location=<span class="string">"us-central1"</span>,
    job_id=<span class="string">"my-job-id"</span>,
    job={
        <span class="string">"id"</span>: <span class="string">"my-job-id"</span>,
        <span class="string">"requestedState"</span>: dataflow_v1beta3.JobState.JOB_STATE_DRAINING
    }
)

response = client.update_job(request=request)
print(<span class="string">f"Job is now draining: {response.id}"</span>)
        </div>

        <div class="benefit-list">
            <h4>âœ… Drainã®ãƒ¡ãƒªãƒƒãƒˆ</h4>
            <ul style="font-size: 14px; line-height: 1.8;">
                <li><strong>ãƒ‡ãƒ¼ã‚¿æå¤±ãªã—:</strong> å‡¦ç†ä¸­ã®ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å®Œäº†</li>
                <li><strong>çŠ¶æ…‹ä¿å­˜:</strong> æœ€çµ‚çŠ¶æ…‹ãŒã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã«ä¿å­˜ã•ã‚Œã‚‹</li>
                <li><strong>å†èµ·å‹•å¯èƒ½:</strong> Drainã—ãŸã‚¸ãƒ§ãƒ–ã‹ã‚‰æ–°ã—ã„ã‚¸ãƒ§ãƒ–ã‚’èµ·å‹•å¯èƒ½</li>
                <li><strong>æ­£å¸¸çµ‚äº†:</strong> ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã€ãƒªã‚½ãƒ¼ã‚¹ãŒé©åˆ‡ã«è§£æ”¾</li>
                <li><strong>ãƒ‡ãƒãƒƒã‚°:</strong> æœ€çµ‚ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¨ãƒ­ã‚°ãŒå®Œå…¨ã«æ®‹ã‚‹</li>
            </ul>
        </div>

        <div class="warning-box">
            <strong>âš ï¸ Drainã®æ³¨æ„ç‚¹:</strong>
            <ul style="margin: 10px 0; font-size: 14px;">
                <li><strong>æ™‚é–“ãŒã‹ã‹ã‚‹:</strong> ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿å‡¦ç†å®Œäº†ã¾ã§å¾…æ©Ÿï¼ˆæ•°åˆ†ã€œæ•°æ™‚é–“ï¼‰</li>
                <li><strong>æ–°è¦ãƒ‡ãƒ¼ã‚¿:</strong> Drainä¸­ã¯æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘ä»˜ã‘ãªã„</li>
                <li><strong>ç„¡é™ã‚¹ãƒˆãƒªãƒ¼ãƒ :</strong> ç„¡é™ã«ç¶šãã‚¹ãƒˆãƒªãƒ¼ãƒ ã§ã¯å®Œäº†ã—ãªã„å ´åˆãŒã‚ã‚‹</li>
                <li><strong>ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ:</strong> é•·æ™‚é–“ã‹ã‹ã‚‹å ´åˆã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã®å¯èƒ½æ€§</li>
            </ul>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ¯ ä½¿ã„åˆ†ã‘ã‚¬ã‚¤ãƒ‰</h2>

        <div class="decision-tree">
            <h3 style="text-align: center; color: #4285f4; margin-top: 0;">ã©ã®æ“ä½œã‚’ä½¿ã†ã¹ãã‹ï¼Ÿ</h3>

            <div class="decision-node">
                <strong>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãŸã„</strong>
            </div>

            <div class="arrow-down">â†“</div>

            <div class="decision-node">
                <strong>ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã¯è¨±å®¹ã§ãã‚‹ï¼Ÿ</strong>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div>
                    <div style="text-align: center; font-weight: bold; margin-bottom: 10px;">YES</div>
                    <div class="arrow-down">â†“</div>
                    <div class="decision-node action">
                        <strong>ğŸš° Drain</strong><br>
                        <span style="font-size: 13px;">
                            1. æ—¢å­˜ã‚¸ãƒ§ãƒ–ã‚’Drain<br>
                            2. å®Œäº†ã‚’å¾…ã¤<br>
                            3. æ–°ã—ã„ã‚¸ãƒ§ãƒ–ã‚’èµ·å‹•
                        </span>
                    </div>
                </div>

                <div>
                    <div style="text-align: center; font-weight: bold; margin-bottom: 10px;">NO</div>
                    <div class="arrow-down">â†“</div>
                    <div class="decision-node">
                        <strong>å¤‰æ›´ã¯äº’æ›æ€§ãŒã‚ã‚‹ï¼Ÿ</strong>
                    </div>
                    <div class="arrow-down">â†“</div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div>
                            <div style="text-align: center; font-size: 12px; font-weight: bold; margin-bottom: 5px;">YES</div>
                            <div class="decision-node action" style="font-size: 13px;">
                                <strong>ğŸ”„ Update</strong><br>
                                å³åº§ã«æ›´æ–°
                            </div>
                        </div>
                        <div>
                            <div style="text-align: center; font-size: 12px; font-weight: bold; margin-bottom: 5px;">NO</div>
                            <div class="decision-node action" style="font-size: 13px;">
                                <strong>ğŸš° Drain</strong><br>
                                + æ–°è¦èµ·å‹•
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <table style="margin-top: 30px;">
            <thead>
                <tr>
                    <th>ã‚·ãƒŠãƒªã‚ª</th>
                    <th>æ¨å¥¨æ“ä½œ</th>
                    <th>ç†ç”±</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>DoFnã®ãƒã‚°ä¿®æ­£</td>
                    <td><strong>Update</strong></td>
                    <td>ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ã®ã¿ã€çŠ¶æ…‹ã¯ç¶­æŒã€ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—</td>
                </tr>
                <tr>
                    <td>æ–°ã—ã„å¤‰æ›ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ </td>
                    <td><strong>Update</strong></td>
                    <td>äº’æ›æ€§ã‚ã‚Šã€æ—¢å­˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ‹¡å¼µ</td>
                </tr>
                <tr>
                    <td>ã‚¹ãƒ†ãƒƒãƒ—åã‚’å¤‰æ›´ã—ãŸã„</td>
                    <td><strong>Drain + æ–°è¦</strong></td>
                    <td>çŠ¶æ…‹ã®äº’æ›æ€§ãªã—ã€å†èµ·å‹•ãŒå¿…è¦</td>
                </tr>
                <tr>
                    <td>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã®å†è¨­è¨ˆ</td>
                    <td><strong>Drain + æ–°è¦</strong></td>
                    <td>å¤§è¦æ¨¡å¤‰æ›´ã€çŠ¶æ…‹ã‚’å¼•ãç¶™ã’ãªã„</td>
                </tr>
                <tr>
                    <td>ä¸€æ™‚çš„ãªåœæ­¢ï¼ˆãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼‰</td>
                    <td><strong>Drain</strong></td>
                    <td>ãƒ‡ãƒ¼ã‚¿æå¤±ãªãåœæ­¢ã€å¾Œã§å†èµ·å‹•</td>
                </tr>
                <tr>
                    <td>ç·Šæ€¥åœæ­¢ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰</td>
                    <td><strong>Cancel</strong></td>
                    <td>å³åº§ã«åœæ­¢ãŒå¿…è¦ã€ãƒ‡ãƒ¼ã‚¿æå¤±OK</td>
                </tr>
                <tr>
                    <td>Pub/Subã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³URLã®å¤‰æ›´</td>
                    <td><strong>Drain + æ–°è¦</strong></td>
                    <td>ã‚½ãƒ¼ã‚¹å¤‰æ›´ã€å†èµ·å‹•ãŒå¿…è¦</td>
                </tr>
                <tr>
                    <td>BigQueryå‡ºåŠ›ãƒ†ãƒ¼ãƒ–ãƒ«ã®å¤‰æ›´</td>
                    <td><strong>Update</strong></td>
                    <td>ã‚·ãƒ³ã‚¯å¤‰æ›´ã¯äº’æ›æ€§ã‚ã‚Š</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ“Š å®Ÿéš›ã®é‹ç”¨ä¾‹</h2>

        <div class="use-case">
            <h4>1ï¸âƒ£ ãƒã‚°ä¿®æ­£ã®ãƒ‡ãƒ—ãƒ­ã‚¤</h4>
            <p><strong>ã‚·ãƒŠãƒªã‚ª:</strong> æœ¬ç•ªç’°å¢ƒã®ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ãƒã‚°ã‚’ç™ºè¦‹</p>
            <div style="font-size: 14px; margin-top: 10px;">
                <strong>æ‰‹é †:</strong>
                <ol style="margin: 5px 0; line-height: 1.8;">
                    <li>ä¿®æ­£ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆç’°å¢ƒã§æ¤œè¨¼</li>
                    <li><code>--update</code>ãƒ•ãƒ©ã‚°ã§æœ¬ç•ªã«ãƒ‡ãƒ—ãƒ­ã‚¤</li>
                    <li>æ—¢å­˜ã‚¸ãƒ§ãƒ–ãŒè‡ªå‹•çš„ã«æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ç½®ãæ›ã‚ã‚‹</li>
                    <li>ãƒ‡ãƒ¼ã‚¿æå¤±ãªã—ã€ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—</li>
                </ol>
                <strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> 24æ™‚é–“365æ—¥ç¨¼åƒã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã‚‚å®‰å…¨ã«ä¿®æ­£å¯èƒ½
            </div>
        </div>

        <div class="use-case">
            <h4>2ï¸âƒ£ æ–°æ©Ÿèƒ½ã®è¿½åŠ </h4>
            <p><strong>ã‚·ãƒŠãƒªã‚ª:</strong> æ—¢å­˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«æ–°ã—ã„é›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ </p>
            <div style="font-size: 14px; margin-top: 10px;">
                <strong>æ‰‹é †:</strong>
                <ol style="margin: 5px 0; line-height: 1.8;">
                    <li>æ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒï¼ˆGroupByKeyã€Combineç­‰ï¼‰ã‚’è¿½åŠ </li>
                    <li><code>--update</code>ã§æ®µéšçš„ã«ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ</li>
                    <li>æ—¢å­˜ã®å‡¦ç†ã¯ç¶™ç¶šã€æ–°ã—ã„å‡¦ç†ãŒé–‹å§‹</li>
                    <li>å•é¡ŒãŒã‚ã‚Œã°å³åº§ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆå†åº¦Updateï¼‰</li>
                </ol>
                <strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ã‚«ãƒŠãƒªã‚¢ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã€A/Bãƒ†ã‚¹ãƒˆå¯èƒ½
            </div>
        </div>

        <div class="use-case">
            <h4>3ï¸âƒ£ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ™‚ã®ä¸€æ™‚åœæ­¢</h4>
            <p><strong>ã‚·ãƒŠãƒªã‚ª:</strong> BigQueryã®å¤§è¦æ¨¡ãªã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã‚’å®Ÿæ–½</p>
            <div style="font-size: 14px; margin-top: 10px;">
                <strong>æ‰‹é †:</strong>
                <ol style="margin: 5px 0; line-height: 1.8;">
                    <li>ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’Drainï¼ˆå‡¦ç†ä¸­ãƒ‡ãƒ¼ã‚¿ã‚’å®Œäº†ï¼‰</li>
                    <li>BigQueryãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚¹ã‚­ãƒ¼ãƒã‚’å¤‰æ›´</li>
                    <li>æ–°ã—ã„ã‚¹ã‚­ãƒ¼ãƒã«å¯¾å¿œã—ãŸãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èµ·å‹•</li>
                    <li>Pub/Subãƒãƒƒã‚¯ãƒ­ã‚°ã‹ã‚‰å‡¦ç†å†é–‹</li>
                </ol>
                <strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ãƒ‡ãƒ¼ã‚¿æå¤±ãªã—ã€æ•´åˆæ€§ç¶­æŒ
            </div>
        </div>

        <div class="use-case">
            <h4>4ï¸âƒ£ ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</h4>
            <p><strong>ã‚·ãƒŠãƒªã‚ª:</strong> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã‚’æ–°ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ç§»è¡Œ</p>
            <div style="font-size: 14px; margin-top: 10px;">
                <strong>æ‰‹é †:</strong>
                <ol style="margin: 5px 0; line-height: 1.8;">
                    <li>æ–°ã—ã„Pub/Subã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ</li>
                    <li>æ—§ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¨ä¸¦è¡Œã—ã¦æ–°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èµ·å‹•</li>
                    <li>æ–°ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å‹•ä½œã‚’æ¤œè¨¼</li>
                    <li>æ—§ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’Drain</li>
                    <li>æ—§ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤</li>
                </ol>
                <strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ãƒ–ãƒ«ãƒ¼ã‚°ãƒªãƒ¼ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã€ãƒªã‚¹ã‚¯æœ€å°åŒ–
            </div>
        </div>

        <div class="use-case">
            <h4>5ï¸âƒ£ ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã®ãŸã‚ã®ä¸€æ™‚åœæ­¢</h4>
            <p><strong>ã‚·ãƒŠãƒªã‚ª:</strong> å¤œé–“ã¯ãƒ‡ãƒ¼ã‚¿é‡ãŒå°‘ãªã„ãŸã‚ä¸€æ™‚åœæ­¢ã—ã¦ã‚³ã‚¹ãƒˆå‰Šæ¸›</p>
            <div style="font-size: 14px; margin-top: 10px;">
                <strong>æ‰‹é †:</strong>
                <ol style="margin: 5px 0; line-height: 1.8;">
                    <li>Cloud Schedulerã§å®šæœŸå®Ÿè¡Œã‚¸ãƒ§ãƒ–ã‚’è¨­å®š</li>
                    <li>23:00ã«Drainã‚’å®Ÿè¡Œï¼ˆå‡¦ç†å®Œäº†ã¾ã§å¾…æ©Ÿï¼‰</li>
                    <li>å¤œé–“ã¯Pub/Subã«ãƒ‡ãƒ¼ã‚¿ãŒè“„ç©</li>
                    <li>07:00ã«æ–°ã—ã„ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èµ·å‹•</li>
                    <li>ãƒãƒƒã‚¯ãƒ­ã‚°ã‹ã‚‰å‡¦ç†å†é–‹</li>
                </ol>
                <strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> å¤œé–“ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒˆã‚³ã‚¹ãƒˆã‚’ã‚¼ãƒ­ã«
            </div>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">âš™ï¸ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</h2>

        <table>
            <thead>
                <tr>
                    <th>é …ç›®</th>
                    <th>æ¨å¥¨äº‹é …</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>ã‚¹ãƒ†ãƒƒãƒ—åã®ä¸€è²«æ€§</strong></td>
                    <td>Updateã‚’ä½¿ã†å ´åˆã€ã‚¹ãƒ†ãƒƒãƒ—åã‚’å¤‰æ›´ã—ãªã„ã€‚çŠ¶æ…‹ãŒå¤±ã‚ã‚Œã‚‹ã€‚</td>
                </tr>
                <tr>
                    <td><strong>æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ</strong></td>
                    <td>ã¾ãšã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§Updateã‚’ãƒ†ã‚¹ãƒˆã€å•é¡Œãªã‘ã‚Œã°æœ¬ç•ªã«é©ç”¨ã€‚</td>
                </tr>
                <tr>
                    <td><strong>ãƒãƒƒã‚¯ãƒ­ã‚°ç®¡ç†</strong></td>
                    <td>Drainä¸­ã‚‚Pub/Subãƒãƒƒã‚¯ãƒ­ã‚°ãŒè“„ç©ã€‚å†èµ·å‹•æ™‚ã«å‡¦ç†ã•ã‚Œã‚‹ã€‚</td>
                </tr>
                <tr>
                    <td><strong>ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</strong></td>
                    <td>Update/Drainä¸­ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç›£è¦–ã€‚ç•°å¸¸ãŒã‚ã‚Œã°ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã€‚</td>
                </tr>
                <tr>
                    <td><strong>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–</strong></td>
                    <td>äº’æ›æ€§ã®ã‚ã‚‹å¤‰æ›´/ä¸å¯èƒ½ãªå¤‰æ›´ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã€‚</td>
                </tr>
                <tr>
                    <td><strong>ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨ˆç”»</strong></td>
                    <td>Updateå¤±æ•—æ™‚ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †ã‚’äº‹å‰ã«æº–å‚™ã€‚</td>
                </tr>
                <tr>
                    <td><strong>çŠ¶æ…‹ã®äº’æ›æ€§</strong></td>
                    <td>ã‚«ã‚¹ã‚¿ãƒ çŠ¶æ…‹ã‚’ä½¿ã†å ´åˆã€å‰æ–¹äº’æ›æ€§ã‚’ç¶­æŒã€‚</td>
                </tr>
                <tr>
                    <td><strong>ãƒ†ã‚¹ãƒˆ</strong></td>
                    <td>Updateã®äº’æ›æ€§ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•åŒ–ï¼ˆCI/CDçµ±åˆï¼‰ã€‚</td>
                </tr>
            </tbody>
        </table>

        <div class="warning-box">
            <strong>ğŸš¨ ã‚ˆãã‚ã‚‹è½ã¨ã—ç©´:</strong>
            <ul style="margin: 10px 0; font-size: 14px;">
                <li><strong>ã‚¹ãƒ†ãƒƒãƒ—åå¤‰æ›´:</strong> ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã«ã‚¹ãƒ†ãƒƒãƒ—åã‚’å¤‰ãˆã‚‹ã¨çŠ¶æ…‹ãŒå¤±ã‚ã‚Œã‚‹</li>
                <li><strong>å‹å¤‰æ›´:</strong> GroupByKeyã®ã‚­ãƒ¼å‹ã‚’å¤‰æ›´ã™ã‚‹ã¨äº’æ›æ€§ã‚¨ãƒ©ãƒ¼</li>
                <li><strong>Coderå¤‰æ›´:</strong> ã‚«ã‚¹ã‚¿ãƒ Coderã‚’å¤‰æ›´ã™ã‚‹ã¨çŠ¶æ…‹ãŒãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã§ããªã„</li>
                <li><strong>ç„¡é™Drain:</strong> ç„¡é™ã‚¹ãƒˆãƒªãƒ¼ãƒ ã§DrainãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ</li>
                <li><strong>ãƒªã‚½ãƒ¼ã‚¹ä¸è¶³:</strong> Updateæ™‚ã«ä¸€æ™‚çš„ã«ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡ãŒå¢—åŠ </li>
            </ul>
        </div>
    </div>

    <div class="container">
        <h2>ğŸ“š ã¾ã¨ã‚</h2>
        <div style="background: #e8f0fe; padding: 20px; border-radius: 8px; border-left: 4px solid #4285f4;">
            <h3 style="color: #1565c0; margin-top: 0;">ğŸ“ Update & Drainã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div style="background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="color: #2e7d32; margin-top: 0;">ğŸ”„ Updateï¼ˆæ›´æ–°ï¼‰</h4>
                    <ul style="font-size: 14px; line-height: 1.8; margin: 0;">
                        <li>ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—</li>
                        <li>çŠ¶æ…‹ã‚’å¼•ãç¶™ã</li>
                        <li>ãƒ‡ãƒ¼ã‚¿æå¤±ãªã—</li>
                        <li>äº’æ›æ€§ã®ã‚ã‚‹å¤‰æ›´ã®ã¿</li>
                    </ul>
                </div>

                <div style="background: #fff3e0; padding: 15px; border-radius: 6px;">
                    <h4 style="color: #e65100; margin-top: 0;">ğŸš° Drainï¼ˆãƒ‰ãƒ¬ã‚¤ãƒ³ï¼‰</h4>
                    <ul style="font-size: 14px; line-height: 1.8; margin: 0;">
                        <li>æ­£å¸¸ã«åœæ­¢</li>
                        <li>å‡¦ç†ä¸­ãƒ‡ãƒ¼ã‚¿ã‚’å®Œäº†</li>
                        <li>å†èµ·å‹•å¯èƒ½</li>
                        <li>å¤§è¦æ¨¡å¤‰æ›´ã«å¯¾å¿œ</li>
                    </ul>
                </div>
            </div>

            <div style="background: white; padding: 15px; border-radius: 5px; margin-top: 15px;">
                <strong style="color: #1565c0;">ğŸ’¡ ä½¿ã„åˆ†ã‘ã®åŸå‰‡:</strong>
                <ul style="margin: 10px 0; font-size: 14px; line-height: 1.8;">
                    <li><strong>Updateå„ªå…ˆ:</strong> ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã‚’é¿ã‘ãŸã„å ´åˆ</li>
                    <li><strong>Drainä½¿ç”¨:</strong> äº’æ›æ€§ã®ãªã„å¤‰æ›´ã€å¤§è¦æ¨¡ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</li>
                    <li><strong>Cancelä½¿ç”¨:</strong> ç·Šæ€¥åœæ­¢ã®ã¿ï¼ˆãƒ‡ãƒ¼ã‚¿æå¤±OKï¼‰</li>
                </ul>
            </div>

            <div style="text-align: center; margin-top: 20px; font-size: 18px; font-weight: bold; color: #1565c0;">
                Updateã¨Drainã‚’é©åˆ‡ã«ä½¿ã„åˆ†ã‘ã¦ã€<br>
                å®‰å…¨ã§åŠ¹ç‡çš„ãªãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³é‹ç”¨ã‚’å®Ÿç¾ã—ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>
    </div>

</body>
</html>
