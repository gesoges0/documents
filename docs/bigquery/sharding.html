<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BigQuery ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° è§£èª¬</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #4285f4;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section-title {
            color: #4285f4;
            border-bottom: 3px solid #4285f4;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .key-point {
            background: #e8f0fe;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #4285f4;
        }
        .sharding-viz {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #e0e0e0;
        }
        .table-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .table-card {
            background: white;
            border: 3px solid #4285f4;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        .table-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }
        .table-name {
            font-weight: bold;
            font-size: 13px;
            color: #1a73e8;
            margin-bottom: 5px;
        }
        .table-rows {
            font-size: 11px;
            color: #666;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison-card {
            background: #f8f9fa;
            border: 3px solid;
            border-radius: 8px;
            padding: 20px;
        }
        .card-sharding {
            border-color: #ff9800;
        }
        .card-partition {
            border-color: #4caf50;
        }
        .card-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
        }
        .title-sharding {
            background: #fff3e0;
            color: #e65100;
        }
        .title-partition {
            background: #e8f5e9;
            color: #2e7d32;
        }
        .code-box {
            background: #1e1e1e;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            margin: 15px 0;
            overflow-x: auto;
            color: #d4d4d4;
        }
        .keyword {
            color: #569cd6;
            font-weight: bold;
        }
        .string {
            color: #ce9178;
        }
        .comment {
            color: #6a9955;
            font-style: italic;
        }
        .function {
            color: #dcdcaa;
            font-weight: bold;
        }
        .highlight {
            background: #fff9c4;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #e8f0fe;
            color: #1a73e8;
            font-weight: bold;
        }
        tr:hover {
            background: #f5f5f5;
        }
        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .warning-box strong {
            color: #e65100;
        }
        .deprecated-box {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .deprecated-box strong {
            color: #c62828;
        }
        .benefit-list {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .benefit-list h4 {
            color: #2e7d32;
            margin-top: 0;
        }
        .query-example {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .query-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .query-box {
            background: #1e1e1e;
            border: 2px solid;
            border-radius: 6px;
            padding: 15px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            color: #d4d4d4;
        }
        .query-bad {
            border-color: #f44336;
            background: #ffebee;
        }
        .query-good {
            border-color: #4caf50;
            background: #e8f5e9;
        }
        .migration-flow {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
        }
        .migration-step {
            display: flex;
            align-items: flex-start;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid #4285f4;
        }
        .step-number {
            background: #4285f4;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            margin-right: 20px;
            flex-shrink: 0;
        }
        .step-content {
            flex: 1;
        }
        .step-title {
            font-weight: bold;
            color: #4285f4;
            margin-bottom: 8px;
            font-size: 16px;
        }
        .step-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.8;
        }
        .wildcard-example {
            background: #e8f0fe;
            border-left: 4px solid #4285f4;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .wildcard-example h4 {
            color: #1565c0;
            margin-top: 0;
        }
        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 15px 0;
        }
        .pattern-card {
            background: white;
            border: 2px solid #4285f4;
            border-radius: 6px;
            padding: 15px;
        }
        .pattern-card h4 {
            color: #4285f4;
            margin-top: 0;
            font-size: 14px;
        }
        .arrow-down {
            text-align: center;
            font-size: 32px;
            color: #4caf50;
            font-weight: bold;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”€ BigQuery ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</h1>
    <p class="subtitle">æ—¥ä»˜ãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒ–ãƒ«åˆ†å‰²ã¨ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã¸ã®ç§»è¡Œ</p>

    <div class="container">
        <h2 class="section-title">ğŸ“– ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã¯</h2>
        
        <div class="key-point">
            <h3 style="color: #4285f4; margin-top: 0;">ğŸ¯ æ¦‚è¦</h3>
            <p style="font-size: 16px; line-height: 1.8;">
                BigQueryã®ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆTable Shardingï¼‰ã¯ã€<span class="highlight">æ—¥ä»˜ã‚„æ™‚é–“ã”ã¨ã«å€‹åˆ¥ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æ•£ä¿å­˜</span>ã™ã‚‹å¤ã„æ‰‹æ³•ã§ã™ã€‚
                ä¾‹ãˆã°ã€æ—¥æ¬¡ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’åˆ†å‰²ã™ã‚‹å ´åˆï¼š
            </p>
            <ul style="font-size: 15px; line-height: 1.8;">
                <li><code>events_20241120</code> - 2024å¹´11æœˆ20æ—¥ã®ãƒ‡ãƒ¼ã‚¿</li>
                <li><code>events_20241121</code> - 2024å¹´11æœˆ21æ—¥ã®ãƒ‡ãƒ¼ã‚¿</li>
                <li><code>events_20241122</code> - 2024å¹´11æœˆ22æ—¥ã®ãƒ‡ãƒ¼ã‚¿</li>
                <li>...</li>
            </ul>
        </div>

        <div class="deprecated-box">
            <strong>âš ï¸ é‡è¦: ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯éæ¨å¥¨ï¼ˆLegacyï¼‰</strong>
            <p style="margin: 10px 0; font-size: 14px;">
                ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯<strong>ãƒ¬ã‚¬ã‚·ãƒ¼ãªæ‰‹æ³•</strong>ã¨ã—ã¦æ‰±ã‚ã‚Œã¦ãŠã‚Šã€Googleã¯<strong>ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆPartitioned Tablesï¼‰ã¸ã®ç§»è¡Œã‚’å¼·ãæ¨å¥¨</strong>ã—ã¦ã„ã¾ã™ã€‚<br>
                æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯çµ¶å¯¾ã«ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã›ãšã€æ—¢å­˜ã®ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã¯æ—©æ€¥ã«ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã«ç§»è¡Œã™ã¹ãã§ã™ã€‚
            </p>
        </div>

        <div class="sharding-viz">
            <h3 style="text-align: center; color: #4285f4; margin-top: 0;">ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®æ§‹é€ </h3>
            
            <div style="background: #fff3e0; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                <strong style="color: #e65100;">ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¾‹:</strong> æ—¥æ¬¡ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«
            </div>

            <div class="table-grid">
                <div class="table-card">
                    <div class="table-icon">ğŸ“‹</div>
                    <div class="table-name">events_20241101</div>
                    <div class="table-rows">100ä¸‡è¡Œ</div>
                </div>
                <div class="table-card">
                    <div class="table-icon">ğŸ“‹</div>
                    <div class="table-name">events_20241102</div>
                    <div class="table-rows">95ä¸‡è¡Œ</div>
                </div>
                <div class="table-card">
                    <div class="table-icon">ğŸ“‹</div>
                    <div class="table-name">events_20241103</div>
                    <div class="table-rows">110ä¸‡è¡Œ</div>
                </div>
                <div class="table-card">
                    <div class="table-icon">ğŸ“‹</div>
                    <div class="table-name">events_20241104</div>
                    <div class="table-rows">105ä¸‡è¡Œ</div>
                </div>
                <div class="table-card">
                    <div class="table-icon">ğŸ“‹</div>
                    <div class="table-name">events_20241105</div>
                    <div class="table-rows">98ä¸‡è¡Œ</div>
                </div>
                <div class="table-card">
                    <div class="table-icon">ğŸ“‹</div>
                    <div class="table-name">...</div>
                    <div class="table-rows">ç¶™ç¶š</div>
                </div>
            </div>

            <div style="background: #e8f5e9; padding: 15px; border-radius: 5px; margin-top: 20px;">
                <strong style="color: #2e7d32;">ğŸ“Š ç‰¹å¾´:</strong>
                <ul style="font-size: 13px; margin: 10px 0;">
                    <li>1æ—¥ã”ã¨ã«ç‹¬ç«‹ã—ãŸãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã‚‹</li>
                    <li>å„ãƒ†ãƒ¼ãƒ–ãƒ«ã¯å®Œå…¨ã«ç‹¬ç«‹ã—ãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¤</li>
                    <li>å‘½åè¦å‰‡: <code>table_YYYYMMDD</code>å½¢å¼</li>
                    <li>1å¹´ã§365å€‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã‚‹</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ†š ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° vs ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°</h2>

        <div class="comparison">
            <div class="comparison-card card-sharding">
                <div class="card-title title-sharding">âŒ ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆéæ¨å¥¨ï¼‰</div>
                
                <div style="margin: 20px 0;">
                    <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px;">
                        æ—¥ä»˜ã”ã¨ã«åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«
                    </div>
                    
                    <div style="background: white; padding: 15px; border-radius: 6px;">
                        <div style="font-size: 13px; line-height: 1.8;">
                            <strong>æ§‹é€ :</strong><br>
                            â€¢ events_20241120<br>
                            â€¢ events_20241121<br>
                            â€¢ events_20241122<br>
                            â€¢ ...<br>
                            <br>
                            å„ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ç‹¬ç«‹ã—ãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
                        </div>
                    </div>
                </div>

                <div style="background: #ffebee; padding: 15px; border-radius: 5px; margin-top: 15px;">
                    <strong style="color: #c62828;">âš ï¸ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ:</strong>
                    <ul style="font-size: 13px; margin: 10px 0;">
                        <li>ãƒ†ãƒ¼ãƒ–ãƒ«æ•°ã®çˆ†ç™ºï¼ˆ365å€‹/å¹´ï¼‰</li>
                        <li>ã‚¯ã‚¨ãƒªãŒè¤‡é›‘ï¼ˆUNIONå¿…é ˆï¼‰</li>
                        <li>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰</li>
                        <li>ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆãƒ»å‰Šé™¤ã®æ‰‹é–“</li>
                        <li>ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ãŒå›°é›£</li>
                        <li>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒåŠ£ã‚‹</li>
                        <li>1ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã™ã‚‹æ“ä½œåˆ¶é™</li>
                    </ul>
                </div>
            </div>

            <div class="comparison-card card-partition">
                <div class="card-title title-partition">âœ… ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ï¼ˆæ¨å¥¨ï¼‰</div>
                
                <div style="margin: 20px 0;">
                    <div style="font-size: 14px; font-weight: bold; margin-bottom: 10px;">
                        1ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã€å†…éƒ¨ã§åˆ†å‰²
                    </div>
                    
                    <div style="background: white; padding: 15px; border-radius: 6px;">
                        <div style="font-size: 13px; line-height: 1.8;">
                            <strong>æ§‹é€ :</strong><br>
                            â€¢ eventsï¼ˆ1ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰<br>
                            &nbsp;&nbsp;â”œ partition 2024-11-20<br>
                            &nbsp;&nbsp;â”œ partition 2024-11-21<br>
                            &nbsp;&nbsp;â”œ partition 2024-11-22<br>
                            &nbsp;&nbsp;â”” ...<br>
                            <br>
                            1ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã€å†…éƒ¨ã§ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³åˆ†å‰²
                        </div>
                    </div>
                </div>

                <div style="background: #e8f5e9; padding: 15px; border-radius: 5px; margin-top: 15px;">
                    <strong style="color: #2e7d32;">âœ… ãƒ¡ãƒªãƒƒãƒˆ:</strong>
                    <ul style="font-size: 13px; margin: 10px 0;">
                        <li>ãƒ†ãƒ¼ãƒ–ãƒ«ã¯1ã¤ã ã‘</li>
                        <li>ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¯ã‚¨ãƒªï¼ˆUNIONä¸è¦ï¼‰</li>
                        <li>è‡ªå‹•ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ç®¡ç†</li>
                        <li>é«˜é€Ÿãªãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ—ãƒ«ãƒ¼ãƒ‹ãƒ³ã‚°</li>
                        <li>ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ãŒå®¹æ˜“</li>
                        <li>å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</li>
                        <li>ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã¨ã®çµ„ã¿åˆã‚ã›</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">âŒ ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®å•é¡Œç‚¹</h2>

        <table>
            <thead>
                <tr>
                    <th>å•é¡Œ</th>
                    <th>è©³ç´°</th>
                    <th>å½±éŸ¿</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>ãƒ†ãƒ¼ãƒ–ãƒ«æ•°ã®çˆ†ç™º</strong></td>
                    <td>1æ—¥1ãƒ†ãƒ¼ãƒ–ãƒ«ã§å¹´é–“365å€‹ã€è¤‡æ•°å¹´ã§æ•°åƒå€‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«</td>
                    <td>ç®¡ç†ã‚³ã‚¹ãƒˆå¢—å¤§ã€å¯è¦–æ€§ä½ä¸‹</td>
                </tr>
                <tr>
                    <td><strong>ã‚¯ã‚¨ãƒªã®è¤‡é›‘åŒ–</strong></td>
                    <td>è¤‡æ•°æ—¥ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã«ã¯UNION ALLãŒå¿…é ˆ</td>
                    <td>ã‚¯ã‚¨ãƒªä½œæˆãŒé¢å€’ã€ã‚¨ãƒ©ãƒ¼ãƒªã‚¹ã‚¯å¢—åŠ </td>
                </tr>
                <tr>
                    <td><strong>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰</strong></td>
                    <td>å„ãƒ†ãƒ¼ãƒ–ãƒ«ãŒç‹¬ç«‹ã—ãŸãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŒã¤</td>
                    <td>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒé…ã„ã€APIåˆ¶é™ã«åˆ°é”</td>
                </tr>
                <tr>
                    <td><strong>ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã®å›°é›£ã•</strong></td>
                    <td>å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¯¾ã—ã¦å€‹åˆ¥ã«ALTER TABLEãŒå¿…è¦</td>
                    <td>å¤§é‡ã®DDLå®Ÿè¡Œã€æ™‚é–“ã¨ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹</td>
                </tr>
                <tr>
                    <td><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</strong></td>
                    <td>ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚¹ã‚­ãƒ£ãƒ³ãŒéåŠ¹ç‡</td>
                    <td>ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ—ãƒ«ãƒ¼ãƒ‹ãƒ³ã‚°ã‚ˆã‚Šé…ã„</td>
                </tr>
                <tr>
                    <td><strong>é‹ç”¨ã®ç…©é›‘ã•</strong></td>
                    <td>ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãƒ»å‰Šé™¤ã‚’æ‰‹å‹•ã¾ãŸã¯è‡ªå‹•åŒ–ãŒå¿…è¦</td>
                    <td>é‹ç”¨è² è·å¢—å¤§ã€ãƒŸã‚¹ã®ãƒªã‚¹ã‚¯</td>
                </tr>
                <tr>
                    <td><strong>ã‚³ã‚¹ãƒˆç®¡ç†</strong></td>
                    <td>å¤ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã®å‰Šé™¤ã‚’å¿˜ã‚Œã‚‹ã¨ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚³ã‚¹ãƒˆå¢—åŠ </td>
                    <td>äºˆæœŸã—ãªã„ã‚³ã‚¹ãƒˆç™ºç”Ÿ</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ” ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ã£ãŸã‚¯ã‚¨ãƒª</h2>

        <div style="background: #e8f0fe; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <strong style="color: #1565c0;">ğŸ“Œ ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã¯:</strong>
            <p style="margin: 10px 0; font-size: 14px;">
                ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚ŒãŸè¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’1ã¤ã®ã‚¯ã‚¨ãƒªã§ã¾ã¨ã‚ã¦æ¤œç´¢ã™ã‚‹æ©Ÿèƒ½ã€‚<br>
                <code>_TABLE_SUFFIX</code>æ“¬ä¼¼ã‚«ãƒ©ãƒ ã§æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒå¯èƒ½ã€‚
            </p>
        </div>

        <h3 style="color: #4285f4;">åŸºæœ¬çš„ãªãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚¯ã‚¨ãƒª</h3>
        <div class="code-box">
<span class="comment">-- å…¨ã¦ã®events_*ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ¤œç´¢</span>
<span class="keyword">SELECT</span>
    _TABLE_SUFFIX <span class="keyword">AS</span> table_date,  <span class="comment">-- ãƒ†ãƒ¼ãƒ–ãƒ«åã®ã‚µãƒ•ã‚£ãƒƒã‚¯ã‚¹éƒ¨åˆ†</span>
    event_id,
    user_id,
    event_type,
    event_timestamp
<span class="keyword">FROM</span> <span class="string">`project.dataset.events_*`</span>
<span class="keyword">WHERE</span> 
    <span class="comment">-- _TABLE_SUFFIXã§æ—¥ä»˜ç¯„å›²ã‚’æŒ‡å®šï¼ˆæ–‡å­—åˆ—æ¯”è¼ƒï¼‰</span>
    _TABLE_SUFFIX <span class="keyword">BETWEEN</span> <span class="string">'20241120'</span> <span class="keyword">AND</span> <span class="string">'20241125'</span>
    <span class="keyword">AND</span> event_type = <span class="string">'purchase'</span>
<span class="keyword">ORDER BY</span> event_timestamp <span class="keyword">DESC</span>
<span class="keyword">LIMIT</span> <span class="number">1000</span>
        </div>

        <div class="wildcard-example">
            <h4>ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³</h4>
            <div class="pattern-grid">
                <div class="pattern-card">
                    <h4>å…¨ãƒ†ãƒ¼ãƒ–ãƒ«</h4>
                    <code>events_*</code><br>
                    <span style="font-size: 12px; color: #666;">å…¨ã¦ã®events_XXXãƒ†ãƒ¼ãƒ–ãƒ«</span>
                </div>
                <div class="pattern-card">
                    <h4>å¹´æœˆæŒ‡å®š</h4>
                    <code>events_202411*</code><br>
                    <span style="font-size: 12px; color: #666;">2024å¹´11æœˆã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã¿</span>
                </div>
                <div class="pattern-card">
                    <h4>ç¯„å›²æŒ‡å®š</h4>
                    <code>_TABLE_SUFFIX BETWEEN 'X' AND 'Y'</code><br>
                    <span style="font-size: 12px; color: #666;">WHEREå¥ã§ç¯„å›²ãƒ•ã‚£ãƒ«ã‚¿</span>
                </div>
                <div class="pattern-card">
                    <h4>è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³</h4>
                    <code>events_2024*, logs_2024*</code><br>
                    <span style="font-size: 12px; color: #666;">è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³</span>
                </div>
            </div>
        </div>

        <h3 style="color: #4285f4; margin-top: 30px;">æ—¥ä»˜ç¯„å›²ã§ã®ã‚¯ã‚¨ãƒªä¾‹</h3>
        <div class="code-box">
<span class="comment">-- éå»7æ—¥é–“ã®ãƒ‡ãƒ¼ã‚¿ã‚’é›†è¨ˆ</span>
<span class="keyword">SELECT</span>
    <span class="function">PARSE_DATE</span>(<span class="string">'%Y%m%d'</span>, _TABLE_SUFFIX) <span class="keyword">AS</span> event_date,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> total_events,
    <span class="function">COUNT</span>(<span class="keyword">DISTINCT</span> user_id) <span class="keyword">AS</span> unique_users
<span class="keyword">FROM</span> <span class="string">`project.dataset.events_*`</span>
<span class="keyword">WHERE</span>
    <span class="comment">-- éå»7æ—¥åˆ†ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã¿ã‚¹ã‚­ãƒ£ãƒ³</span>
    _TABLE_SUFFIX <span class="keyword">BETWEEN</span> 
        <span class="function">FORMAT_DATE</span>(<span class="string">'%Y%m%d'</span>, <span class="function">DATE_SUB</span>(<span class="function">CURRENT_DATE</span>(), <span class="keyword">INTERVAL</span> <span class="number">7</span> <span class="keyword">DAY</span>))
        <span class="keyword">AND</span> <span class="function">FORMAT_DATE</span>(<span class="string">'%Y%m%d'</span>, <span class="function">CURRENT_DATE</span>())
<span class="keyword">GROUP BY</span> event_date
<span class="keyword">ORDER BY</span> event_date
        </div>

        <h3 style="color: #4285f4; margin-top: 30px;">é›†è¨ˆã‚¯ã‚¨ãƒªä¾‹</h3>
        <div class="code-box">
<span class="comment">-- æœˆæ¬¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ</span>
<span class="keyword">SELECT</span>
    <span class="function">SUBSTR</span>(_TABLE_SUFFIX, <span class="number">1</span>, <span class="number">6</span>) <span class="keyword">AS</span> year_month,  <span class="comment">-- 202411</span>
    event_type,
    <span class="function">COUNT</span>(*) <span class="keyword">AS</span> event_count,
    <span class="function">COUNT</span>(<span class="keyword">DISTINCT</span> user_id) <span class="keyword">AS</span> unique_users,
    <span class="function">AVG</span>(session_duration) <span class="keyword">AS</span> avg_session_duration
<span class="keyword">FROM</span> <span class="string">`project.dataset.events_*`</span>
<span class="keyword">WHERE</span>
    <span class="comment">-- 2024å¹´ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿</span>
    _TABLE_SUFFIX <span class="keyword">LIKE</span> <span class="string">'2024%'</span>
<span class="keyword">GROUP BY</span> year_month, event_type
<span class="keyword">ORDER BY</span> year_month, event_count <span class="keyword">DESC</span>
        </div>

        <div class="warning-box">
            <strong>âš ï¸ ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚¯ã‚¨ãƒªã®æ³¨æ„ç‚¹:</strong>
            <ul style="margin: 10px 0; font-size: 14px;">
                <li><strong>ã‚¹ã‚­ãƒ£ãƒ³é‡:</strong> _TABLE_SUFFIXãƒ•ã‚£ãƒ«ã‚¿ãŒãªã„ã¨å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³ â†’ é«˜ã‚³ã‚¹ãƒˆ</li>
                <li><strong>æ–‡å­—åˆ—æ¯”è¼ƒ:</strong> _TABLE_SUFFIXã¯æ–‡å­—åˆ—ãªã®ã§æ—¥ä»˜é–¢æ•°ãŒä½¿ãˆãªã„</li>
                <li><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:</strong> ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ—ãƒ«ãƒ¼ãƒ‹ãƒ³ã‚°ã‚ˆã‚Šé…ã„</li>
                <li><strong>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿:</strong> å¤§é‡ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒã‚ã‚‹ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ã«æ™‚é–“ãŒã‹ã‹ã‚‹</li>
            </ul>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ”„ ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã¸ã®ç§»è¡Œ</h2>

        <div class="migration-flow">
            <h3 style="text-align: center; color: #4285f4; margin-top: 0;">ç§»è¡Œæ‰‹é †</h3>
            
            <div class="migration-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-title">ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ</div>
                    <div class="step-desc">
                        æ—¥ä»˜ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æŒã¤æ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã€‚<br>
                        ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³åˆ—ã¨ã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã€‚
                    </div>
                    <div class="code-box" style="margin-top: 10px;">
<span class="keyword">CREATE TABLE</span> <span class="string">`project.dataset.events_partitioned`</span>
<span class="keyword">PARTITION BY</span> <span class="function">DATE</span>(event_timestamp)
<span class="keyword">CLUSTER BY</span> user_id, event_type
<span class="keyword">AS</span>
<span class="keyword">SELECT</span>
    event_id,
    user_id,
    event_type,
    event_timestamp,
    properties
<span class="keyword">FROM</span> <span class="string">`project.dataset.events_*`</span>
<span class="keyword">WHERE</span> _TABLE_SUFFIX <span class="keyword">BETWEEN</span> <span class="string">'20240101'</span> <span class="keyword">AND</span> <span class="string">'20241231'</span>
                    </div>
                </div>
            </div>

            <div class="migration-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-title">ãƒ‡ãƒ¼ã‚¿ã®æ¤œè¨¼</div>
                    <div class="step-desc">
                        ç§»è¡Œã—ãŸãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’ç¢ºèªã€‚<br>
                        è¡Œæ•°ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯å€¤ã€é›†è¨ˆçµæœã‚’æ¯”è¼ƒã€‚
                    </div>
                    <div class="code-box" style="margin-top: 10px;">
<span class="comment">-- ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¡Œæ•°</span>
<span class="keyword">SELECT</span> <span class="function">COUNT</span>(*) <span class="keyword">FROM</span> <span class="string">`project.dataset.events_*`</span>
<span class="keyword">WHERE</span> _TABLE_SUFFIX <span class="keyword">BETWEEN</span> <span class="string">'20240101'</span> <span class="keyword">AND</span> <span class="string">'20241231'</span>

<span class="comment">-- ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¡Œæ•°</span>
<span class="keyword">SELECT</span> <span class="function">COUNT</span>(*) <span class="keyword">FROM</span> <span class="string">`project.dataset.events_partitioned`</span>
<span class="keyword">WHERE</span> event_timestamp <span class="keyword">BETWEEN</span> <span class="string">'2024-01-01'</span> <span class="keyword">AND</span> <span class="string">'2024-12-31'</span>
                    </div>
                </div>
            </div>

            <div class="migration-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-title">ã‚¯ã‚¨ãƒªã®æ›¸ãæ›ãˆ</div>
                    <div class="step-desc">
                        æ—¢å­˜ã®ã‚¯ã‚¨ãƒªã‚’ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ç”¨ã«æ›¸ãæ›ãˆã€‚<br>
                        UNION ALLã‚„ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã€‚
                    </div>
                    <div class="query-comparison" style="margin-top: 15px;">
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px; color: #f44336;">âŒ ç§»è¡Œå‰ï¼ˆã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰</div>
                            <div class="query-box query-bad">
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> <span class="string">`events_*`</span>
<span class="keyword">WHERE</span> _TABLE_SUFFIX 
  <span class="keyword">BETWEEN</span> <span class="string">'20241120'</span> 
  <span class="keyword">AND</span> <span class="string">'20241125'</span>
                            </div>
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 8px; color: #4caf50;">âœ… ç§»è¡Œå¾Œï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ï¼‰</div>
                            <div class="query-box query-good">
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> <span class="string">`events_partitioned`</span>
<span class="keyword">WHERE</span> event_timestamp
  <span class="keyword">BETWEEN</span> <span class="string">'2024-11-20'</span>
  <span class="keyword">AND</span> <span class="string">'2024-11-25'</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="migration-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <div class="step-title">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ‡ã‚Šæ›¿ãˆ</div>
                    <div class="step-desc">
                        ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ETLã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’æ–°ãƒ†ãƒ¼ãƒ–ãƒ«ã«åˆ‡ã‚Šæ›¿ãˆã€‚<br>
                        æ®µéšçš„ã«ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã—ã¦å½±éŸ¿ã‚’æœ€å°åŒ–ã€‚
                    </div>
                </div>
            </div>

            <div class="migration-step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <div class="step-title">å¤ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã®å‰Šé™¤</div>
                    <div class="step-desc">
                        ç§»è¡Œå®Œäº†å¾Œã€ä¸€å®šæœŸé–“ï¼ˆä¾‹: 30æ—¥ï¼‰çµŒéã—ãŸã‚‰ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤ã€‚<br>
                        ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–ã£ã¦ã‹ã‚‰å‰Šé™¤ã‚’æ¨å¥¨ã€‚
                    </div>
                    <div class="code-box" style="margin-top: 10px;">
<span class="comment">-- å¤ã„ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‰Šé™¤</span>
<span class="keyword">DROP TABLE</span> <span class="string">`project.dataset.events_20241101`</span>;
<span class="keyword">DROP TABLE</span> <span class="string">`project.dataset.events_20241102`</span>;
<span class="comment">-- ...</span>

<span class="comment">-- ã¾ãŸã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä¸€æ‹¬å‰Šé™¤</span>
bq ls --max_results=1000 project:dataset | grep <span class="string">'events_'</span> | \
  xargs -I {} bq rm -f -t project:dataset.{}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ’» ç§»è¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹</h2>

        <h3 style="color: #4285f4;">Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆå…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’çµ±åˆï¼‰</h3>
        <div class="code-box">
<span class="keyword">from</span> google.cloud <span class="keyword">import</span> bigquery
<span class="keyword">import</span> datetime

<span class="keyword">def</span> migrate_sharded_to_partitioned(
    project_id,
    dataset_id,
    source_prefix,      <span class="comment"># 'events_'</span>
    target_table_name,  <span class="comment"># 'events_partitioned'</span>
    partition_column    <span class="comment"># 'event_timestamp'</span>
):
    client = bigquery.Client(project=project_id)
    
    <span class="comment"># ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ</span>
    target_table_id = <span class="string">f"{project_id}.{dataset_id}.{target_table_name}"</span>
    
    <span class="comment"># ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼</span>
    query = <span class="string">f"""
    CREATE OR REPLACE TABLE `{target_table_id}`
    PARTITION BY DATE({partition_column})
    CLUSTER BY user_id, event_type
    AS
    SELECT *
    FROM `{project_id}.{dataset_id}.{source_prefix}*`
    WHERE _TABLE_SUFFIX >= FORMAT_DATE('%Y%m%d', DATE_SUB(CURRENT_DATE(), INTERVAL 365 DAY))
    """</span>
    
    print(<span class="string">f"Creating partitioned table: {target_table_id}"</span>)
    query_job = client.query(query)
    query_job.result()  <span class="comment"># å®Œäº†ã‚’å¾…æ©Ÿ</span>
    
    print(<span class="string">f"Migration completed: {query_job.total_bytes_processed / (1024**3):.2f} GB processed"</span>)
    
    <span class="comment"># è¡Œæ•°ã‚’æ¤œè¨¼</span>
    source_count_query = <span class="string">f"""
    SELECT COUNT(*) as count
    FROM `{project_id}.{dataset_id}.{source_prefix}*`
    WHERE _TABLE_SUFFIX >= FORMAT_DATE('%Y%m%d', DATE_SUB(CURRENT_DATE(), INTERVAL 365 DAY))
    """</span>
    
    target_count_query = <span class="string">f"SELECT COUNT(*) as count FROM `{target_table_id}`"</span>
    
    source_count = list(client.query(source_count_query).result())[<span class="number">0</span>].count
    target_count = list(client.query(target_count_query).result())[<span class="number">0</span>].count
    
    print(<span class="string">f"Source tables: {source_count:,} rows"</span>)
    print(<span class="string">f"Target table: {target_count:,} rows"</span>)
    
    <span class="keyword">if</span> source_count == target_count:
        print(<span class="string">"âœ… Row counts match - migration successful!"</span>)
    <span class="keyword">else</span>:
        print(<span class="string">"âš ï¸ Row count mismatch - please investigate"</span>)

<span class="comment"># å®Ÿè¡Œ</span>
migrate_sharded_to_partitioned(
    project_id=<span class="string">"my-project"</span>,
    dataset_id=<span class="string">"my_dataset"</span>,
    source_prefix=<span class="string">"events_"</span>,
    target_table_name=<span class="string">"events_partitioned"</span>,
    partition_column=<span class="string">"event_timestamp"</span>
)
        </div>

        <h3 style="color: #4285f4; margin-top: 30px;">bqã‚³ãƒãƒ³ãƒ‰ã§ã®ç§»è¡Œ</h3>
        <div class="code-box">
<span class="comment"># ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ</span>
bq mk \
  --table \
  --time_partitioning_field=event_timestamp \
  --clustering_fields=user_id,event_type \
  project:dataset.events_partitioned \
  schema.json

<span class="comment"># ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼</span>
bq query --use_legacy_sql=false \
<span class="string">'
INSERT INTO `project.dataset.events_partitioned`
SELECT *
FROM `project.dataset.events_*`
WHERE _TABLE_SUFFIX BETWEEN "20240101" AND "20241231"
'</span>

<span class="comment"># è¡Œæ•°ã‚’ç¢ºèª</span>
bq query --use_legacy_sql=false \
<span class="string">'SELECT COUNT(*) FROM `project.dataset.events_partitioned`'</span>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">âœ… ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</h2>

        <div class="benefit-list">
            <h4>ğŸ¯ ç§»è¡Œæ™‚ã®æ¨å¥¨äº‹é …</h4>
            <table style="margin-top: 10px;">
                <thead>
                    <tr>
                        <th>é …ç›®</th>
                        <th>æ¨å¥¨äº‹é …</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ç§»è¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°</strong></td>
                        <td>ã§ãã‚‹ã ã‘æ—©ãå®Ÿæ–½ã€‚æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯çµ¶å¯¾ã«ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ã‚ãªã„</td>
                    </tr>
                    <tr>
                        <td><strong>ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼</strong></td>
                        <td>ç§»è¡Œå‰å¾Œã§è¡Œæ•°ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯å€¤ã€é›†è¨ˆçµæœã‚’å¿…ãšæ¯”è¼ƒ</td>
                    </tr>
                    <tr>
                        <td><strong>æ®µéšçš„ç§»è¡Œ</strong></td>
                        <td>æœ€åˆã¯éå»1å¹´åˆ†ã®ã¿ç§»è¡Œã—ã€å•é¡Œãªã‘ã‚Œã°å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ç§»è¡Œ</td>
                    </tr>
                    <tr>
                        <td><strong>ä¸¦è¡Œé‹ç”¨æœŸé–“</strong></td>
                        <td>30æ—¥ç¨‹åº¦ã¯ä¸¡æ–¹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¶­æŒã—ã€å•é¡Œãªã„ã“ã¨ã‚’ç¢ºèª</td>
                    </tr>
                    <tr>
                        <td><strong>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</strong></td>
                        <td>å‰Šé™¤å‰ã«Cloud Storageã¸ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¾ãŸã¯ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå–å¾—</td>
                    </tr>
                    <tr>
                        <td><strong>ã‚¯ã‚¨ãƒªæœ€é©åŒ–</strong></td>
                        <td>ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³åˆ—ã§ã®ãƒ•ã‚£ãƒ«ã‚¿ã‚’å¿…é ˆã«ã—ã€ãƒ—ãƒ«ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’æ´»ç”¨</td>
                    </tr>
                    <tr>
                        <td><strong>ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</strong></td>
                        <td>ç§»è¡Œå¾Œã®ã‚³ã‚¹ãƒˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚¨ãƒ©ãƒ¼ç‡ã‚’ç›£è¦–</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="warning-box">
            <strong>âš ï¸ ç§»è¡Œæ™‚ã®æ³¨æ„ç‚¹:</strong>
            <ul style="margin: 10px 0; font-size: 14px;">
                <li><strong>ã‚¹ãƒ­ãƒƒãƒˆä¸è¶³:</strong> å¤§é‡ãƒ‡ãƒ¼ã‚¿ã®ç§»è¡Œã¯æ™‚é–“ã¨ã‚¹ãƒ­ãƒƒãƒˆã‚’æ¶ˆè²»</li>
                <li><strong>ã‚³ã‚¹ãƒˆ:</strong> å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ•ãƒ«ã‚¹ã‚­ãƒ£ãƒ³ãŒç™ºç”Ÿã™ã‚‹ãŸã‚ã€åˆå›ç§»è¡Œã®ã‚³ã‚¹ãƒˆã«æ³¨æ„</li>
                <li><strong>ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—åˆ—:</strong> ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³åˆ—ã«é©åˆ‡ãªã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—åˆ—ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèª</li>
                <li><strong>NULLå€¤:</strong> ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³åˆ—ã«NULLãŒã‚ã‚‹ã¨__NULL__ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã«æ ¼ç´ã•ã‚Œã‚‹</li>
                <li><strong>ä¾å­˜é–¢ä¿‚:</strong> ãƒ“ãƒ¥ãƒ¼ã€Scheduled Queryã€Data Studioãªã©ä¾å­˜é–¢ä¿‚ã‚’å…¨ã¦æ›´æ–°</li>
            </ul>
        </div>
    </div>

    <div class="container">
        <h2 class="section-title">ğŸ“Š ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã®åˆ©ç‚¹ï¼ˆè©³ç´°ï¼‰</h2>

        <table>
            <thead>
                <tr>
                    <th>é …ç›®</th>
                    <th>ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</th>
                    <th>ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°</th>
                    <th>æ”¹å–„</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†</strong></td>
                    <td>365å€‹/å¹´</td>
                    <td>1å€‹</td>
                    <td>99.7%å‰Šæ¸›</td>
                </tr>
                <tr>
                    <td><strong>ã‚¯ã‚¨ãƒªã®è¤‡é›‘ã•</strong></td>
                    <td>UNION ALLå¿…é ˆ</td>
                    <td>é€šå¸¸ã®SELECT</td>
                    <td>ã‚·ãƒ³ãƒ—ãƒ«</td>
                </tr>
                <tr>
                    <td><strong>ã‚¹ã‚­ãƒ£ãƒ³åŠ¹ç‡</strong></td>
                    <td>ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿èª­è¾¼</td>
                    <td>ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ—ãƒ«ãƒ¼ãƒ‹ãƒ³ã‚°</td>
                    <td>10-100å€é«˜é€Ÿ</td>
                </tr>
                <tr>
                    <td><strong>ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´</strong></td>
                    <td>å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã«ALTER</td>
                    <td>1å›ã®ALTER</td>
                    <td>99%å‰Šæ¸›</td>
                </tr>
                <tr>
                    <td><strong>ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“</strong></td>
                    <td>æ‰‹å‹•å‰Šé™¤</td>
                    <td>è‡ªå‹•å‰Šé™¤å¯èƒ½</td>
                    <td>è‡ªå‹•åŒ–</td>
                </tr>
                <tr>
                    <td><strong>ã‚³ã‚¹ãƒˆæœ€é©åŒ–</strong></td>
                    <td>é›£ã—ã„</td>
                    <td>ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ä½µç”¨</td>
                    <td>ã•ã‚‰ã«å‰Šæ¸›</td>
                </tr>
                <tr>
                    <td><strong>APIã‚³ãƒ¼ãƒ«æ•°</strong></td>
                    <td>ãƒ†ãƒ¼ãƒ–ãƒ«æ•°ã«æ¯”ä¾‹</td>
                    <td>1å›</td>
                    <td>99%å‰Šæ¸›</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container">
        <h2>ğŸ“š ã¾ã¨ã‚</h2>
        <div style="background: #e8f5e9; padding: 20px; border-radius: 8px; border-left: 4px solid #4caf50;">
            <h3 style="color: #2e7d32; margin-top: 0;">ğŸ“ BigQueryã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ</h3>
            
            <ul style="line-height: 1.8;">
                <li><strong>ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã¯:</strong> æ—¥ä»˜ã”ã¨ã«åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹å¤ã„æ‰‹æ³•</li>
                <li><strong>å•é¡Œç‚¹:</strong> ãƒ†ãƒ¼ãƒ–ãƒ«æ•°çˆ†ç™ºã€ã‚¯ã‚¨ãƒªã®è¤‡é›‘åŒ–ã€ç®¡ç†ã‚³ã‚¹ãƒˆå¢—å¤§</li>
                <li><strong>éæ¨å¥¨:</strong> Googleã¯ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ç§»è¡Œã‚’å¼·ãæ¨å¥¨</li>
                <li><strong>ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰:</strong> è¤‡æ•°ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä¸€åº¦ã«æ¤œç´¢å¯èƒ½ã ãŒã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯åŠ£ã‚‹</li>
                <li><strong>ç§»è¡Œæ‰‹é †:</strong> ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ â†’ ãƒ‡ãƒ¼ã‚¿ã‚³ãƒ”ãƒ¼ â†’ æ¤œè¨¼ â†’ åˆ‡æ›¿ â†’ å‰Šé™¤</li>
                <li><strong>åˆ©ç‚¹:</strong> ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†99.7%å‰Šæ¸›ã€ã‚¯ã‚¨ãƒªã‚·ãƒ³ãƒ—ãƒ«åŒ–ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š</li>
            </ul>

            <div style="background: #ffebee; padding: 15px; border-radius: 5px; margin-top: 15px;">
                <strong style="color: #c62828;">ğŸš¨ çµ¶å¯¾ã«è¦šãˆã¦ãŠãã“ã¨:</strong>
                <ul style="margin: 10px 0; font-size: 14px;">
                    <li><strong>æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ:</strong> ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯çµ¶å¯¾ã«ä½¿ã‚ãªã„</li>
                    <li><strong>æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ :</strong> ã§ãã‚‹ã ã‘æ—©ããƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ‹ãƒ³ã‚°ã«ç§»è¡Œ</li>
                    <li><strong>ãƒ¬ã‚¬ã‚·ãƒ¼æ‰‹æ³•:</strong> ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯æŠ€è¡“çš„è² å‚µ</li>
                </ul>
            </div>

            <div style="text-align: center; margin-top: 20px; font-size: 18px; font-weight: bold; color: #2e7d32;">
                ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ã£ã¦ã€<br>
                ã‚·ãƒ³ãƒ—ãƒ«ã§åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚’å®Ÿç¾ã—ã¾ã—ã‚‡ã†ï¼
            </div>
        </div>
    </div>

</body>
</html>
